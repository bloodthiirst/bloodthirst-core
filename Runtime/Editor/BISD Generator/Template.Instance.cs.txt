using System;
using Bloodthirst.Core.BISD.CodeGeneration;
using Bloodthirst.Core.BISDSystem;
using Sirenix.OdinInspector;

namespace Assets.Scripts.Game.[MODELNAME]Model
{
	[BISDTag("[MODELNAME]" , ClassType.INSTANCE)]
    [Serializable]
    public class [MODELNAME]Instance : EntityInstance<[MODELNAME]Data,[MODELNAME]State>
    {
		//OBSERVABLES_START
		//OBSERVABLES_END

		public Action<[MODELNAME]Instance> OnInstanceRemoved;

		public [MODELNAME]Instance() 
		{

		}

		public [MODELNAME]Instance([MODELNAME]State state) : base()
		{
			State = state;	
		}

		[Button]
		public override void Remove()
		{
			InstanceRegister<[MODELNAME]Instance>.Unregister(this);
			OnInstanceRemoved?.Invoke(this);
		}
    }
}
